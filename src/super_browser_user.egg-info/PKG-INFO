Metadata-Version: 2.4
Name: super-browser-user
Version: 0.1.0
Summary: AIé©±åŠ¨çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·é›†
Author-email: Shiyuan Chen <your.email@example.com>
License: MIT
Requires-Python: >=3.11
Description-Content-Type: text/markdown
Requires-Dist: fastapi>=0.109.0
Requires-Dist: uvicorn[standard]>=0.27.0
Requires-Dist: pydantic>=2.5.0
Requires-Dist: pydantic-settings>=2.1.0
Requires-Dist: browser-use>=0.1.0
Requires-Dist: playwright>=1.40.0
Requires-Dist: httpx>=0.26.0
Requires-Dist: langchain-google-genai>=1.0.0
Requires-Dist: google-generativeai>=0.3.0
Requires-Dist: sqlalchemy>=2.0.25
Requires-Dist: psycopg2-binary>=2.9.9
Requires-Dist: alembic>=1.13.1
Requires-Dist: redis>=5.0.1
Requires-Dist: celery>=5.3.6
Requires-Dist: pandas>=2.1.4
Requires-Dist: numpy>=1.26.3
Requires-Dist: python-dotenv>=1.0.0
Requires-Dist: click>=8.1.7
Requires-Dist: jinja2>=3.1.3
Provides-Extra: dev
Requires-Dist: pytest>=7.4.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: pytest-cov>=4.1.0; extra == "dev"
Requires-Dist: black>=23.12.0; extra == "dev"
Requires-Dist: isort>=5.13.0; extra == "dev"
Requires-Dist: flake8>=6.1.0; extra == "dev"
Requires-Dist: mypy>=1.7.0; extra == "dev"

# Super Browser User

> AI é©±åŠ¨çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·é›† - æ™ºèƒ½æ”¶é›†æ—…æ¸¸æ”»ç•¥å¹¶ç”Ÿæˆä¸ªæ€§åŒ–æ—…è¡Œè®¡åˆ’

[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)

## ğŸ“– å­¦ä¹ æŒ‡å—

**æ¨èå­¦ä¹ è·¯å¾„ï¼š**

1. ğŸ“˜ **README.md** (æœ¬æ–‡æ¡£) - å¿«é€Ÿå¼€å§‹å’ŒåŸºæœ¬ä½¿ç”¨
2. ğŸ“ **[docs/architecture/ARCHITECTURE.md](docs/architecture/ARCHITECTURE.md)** - æ¶æ„è®¾è®¡ â­
3. ğŸ”§ **[CLAUDE.md](./CLAUDE.md)** - å¼€å‘æŒ‡å—å’Œ browser-use å‚è€ƒ
4. ğŸ’» **[src/](src/)** - æºä»£ç è¯¦ç»†æ³¨é‡Š
5. ğŸŒ **[docs/api/API_DESIGN.md](docs/api/API_DESIGN.md)** - API æ–‡æ¡£
6. âš™ï¸ **[docs/development/SETUP.md](docs/development/SETUP.md)** - å¼€å‘ç¯å¢ƒè®¾ç½®

---

## âœ¨ ç‰¹æ€§

- ğŸ¤– **AI é©±åŠ¨**: ä½¿ç”¨ Google Gemini 2.0 Flash è¿›è¡Œæ™ºèƒ½å†…å®¹ç†è§£å’Œè¡Œç¨‹è§„åˆ’
- ğŸŒ **è‡ªåŠ¨åŒ–æ”¶é›†**: åŸºäº browser-use å’Œ Playwright çš„é«˜æ•ˆæ•°æ®é‡‡é›†
- ğŸ“Š **æ™ºèƒ½åˆ†æ**: è‡ªåŠ¨è¯†åˆ«é«˜è´¨é‡æ”»ç•¥ï¼Œè®¡ç®—äº’åŠ¨ç‡å’Œå½±å“åŠ›è¯„åˆ†
- ğŸ—ºï¸ **è¡Œç¨‹ç”Ÿæˆ**: AI è‡ªåŠ¨ç”Ÿæˆä¸ªæ€§åŒ–æ—…è¡Œè®¡åˆ’ï¼ŒåŒ…å«æ™¯ç‚¹ã€ç¾é£Ÿã€é¢„ç®—
- ğŸš€ **é«˜æ€§èƒ½**: æ”¯æŒå¹¶å‘æ”¶é›†ï¼Œ3x é€Ÿåº¦æå‡
- ğŸ”Œ **å¤šæ¥å£**: æä¾› REST APIã€CLIã€Web UI (è®¡åˆ’ä¸­)
- ğŸ¯ **Scout æ¨¡å¼**: ä¸‰é˜¶æ®µæ”¶é›†ï¼ˆæ¢æµ‹ â†’ åˆ—è¡¨ â†’ è¯¦æƒ…ï¼‰ï¼ŒæˆåŠŸç‡ 95%+

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Python >= 3.11
- PostgreSQL (å¯é€‰ï¼Œæ”¯æŒå†…å­˜æ¨¡å¼)
- Redis (å¯é€‰ï¼Œæ”¯æŒæ— ç¼“å­˜æ¨¡å¼)

### å®‰è£…

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>
cd super-browser-user

# 2. å®‰è£… uv (Python åŒ…ç®¡ç†å™¨)
curl -LsSf https://astral.sh/uv/install.sh | sh

# 3. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–
uv venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
uv pip install -e .

# 4. å®‰è£… Playwright æµè§ˆå™¨
uvx playwright install chromium --with-deps --no-shell

# 5. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .envï¼Œå¡«å†™ GEMINI_API_KEY
```

**è·å–å…è´¹ Gemini API å¯†é’¥**: https://aistudio.google.com/app/apikey

### ä½¿ç”¨ CLI

```bash
# æ”¶é›†æ—…æ¸¸æ”»ç•¥
uv run super-browser collect "æˆéƒ½" --max-posts 10

# ç”Ÿæˆæ—…è¡Œè®¡åˆ’
uv run super-browser plan "æˆéƒ½" --days 3 --output plan.json

# æŸ¥çœ‹æ”»ç•¥æ‘˜è¦
uv run super-browser summary "æˆéƒ½"
```

### ä½¿ç”¨ API

```bash
# å¯åŠ¨ API æœåŠ¡å™¨
uv run uvicorn apps.api.main:app --reload

# è®¿é—® API æ–‡æ¡£
open http://localhost:8000/docs
```

**API ç¤ºä¾‹**:

```bash
# æ”¶é›†æ”»ç•¥
curl -X POST http://localhost:8000/api/v1/guides/collect \
  -H "Content-Type: application/json" \
  -d '{"destination": "æˆéƒ½", "max_posts": 10}'

# ç”Ÿæˆæ—…è¡Œè®¡åˆ’
curl -X POST http://localhost:8000/api/v1/travel/plans \
  -H "Content-Type: application/json" \
  -d '{"destination": "æˆéƒ½", "days": 3}'
```

## é¡¹ç›®æ¶æ„

```
super-browser-user/
â”œâ”€â”€ src/                          # æºä»£ç 
â”‚   â”œâ”€â”€ core/                     # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ domain/               # é¢†åŸŸæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ services/             # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â””â”€â”€ repositories/         # æ•°æ®ä»“å‚¨
â”‚   â”œâ”€â”€ infrastructure/           # åŸºç¡€è®¾æ–½
â”‚   â”‚   â”œâ”€â”€ external/             # å¤–éƒ¨æœåŠ¡é›†æˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ xiaohongshu/      # å°çº¢ä¹¦æ”¶é›†å™¨
â”‚   â”‚   â”‚   â””â”€â”€ ai/               # Gemini AI å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ database/             # æ•°æ®åº“
â”‚   â”‚   â”œâ”€â”€ cache/                # Redis ç¼“å­˜
â”‚   â”‚   â””â”€â”€ utils/                # å·¥å…·ç±»
â”‚   â””â”€â”€ shared/                   # å…±äº«ç»„ä»¶
â”œâ”€â”€ apps/                         # åº”ç”¨å±‚
â”‚   â”œâ”€â”€ api/                      # FastAPI åº”ç”¨
â”‚   â””â”€â”€ cli/                      # å‘½ä»¤è¡Œå·¥å…·
â”œâ”€â”€ docs/                         # æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture/             # æ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ development/              # å¼€å‘æŒ‡å—
â”‚   â””â”€â”€ api/                      # API æ–‡æ¡£
â””â”€â”€ tests/                        # æµ‹è¯•
```

è¯¦ç»†æ¶æ„è¯´æ˜è¯·å‚è€ƒï¼š[æ¶æ„æ–‡æ¡£](docs/architecture/ARCHITECTURE.md)

## æ ¸å¿ƒåŠŸèƒ½

### 1. æ—…æ¸¸æ”»ç•¥æ”¶é›†

ä»å°çº¢ä¹¦è‡ªåŠ¨æ”¶é›†æ—…æ¸¸æ”»ç•¥ï¼Œæ”¯æŒï¼š

- ğŸ¯ Scout æ¢æµ‹æ¨¡å¼ï¼šæ™ºèƒ½è¯†åˆ«é¡µé¢ç»“æ„
- âš¡ å¹¶å‘æ”¶é›†ï¼š2-3x é€Ÿåº¦æå‡
- ğŸ“Š è´¨é‡è¯„ä¼°ï¼šè‡ªåŠ¨è®¡ç®—äº’åŠ¨ç‡
- ğŸ”„ å¤±è´¥é‡è¯•ï¼šæé«˜æˆåŠŸç‡

### 2. æ™ºèƒ½è¡Œç¨‹ç”Ÿæˆ

åŸºäºæ”¶é›†çš„æ”»ç•¥ç”Ÿæˆæ—…è¡Œè®¡åˆ’ï¼š

- ğŸ§  AI ç†è§£ï¼šæå–æ™¯ç‚¹ã€ç¾é£Ÿã€æ³¨æ„äº‹é¡¹
- ğŸ“… æ—¥ç¨‹è§„åˆ’ï¼šè‡ªåŠ¨å®‰æ’æ¯æ—¥è¡Œç¨‹
- ğŸ’° é¢„ç®—ä¼°ç®—ï¼šæä¾›æˆæœ¬å‚è€ƒ
- ğŸ—ºï¸ è·¯çº¿ä¼˜åŒ–ï¼šTSP ç®—æ³•ä¼˜åŒ–æ¸¸è§ˆé¡ºåº (è®¡åˆ’ä¸­)

### 3. æ•°æ®åˆ†æ

- ğŸ“ˆ äº’åŠ¨ç‡åˆ†æï¼šè¯†åˆ«é«˜è´¨é‡å†…å®¹
- ğŸ‘¤ ç”¨æˆ·å½±å“åŠ›è¯„åˆ†ï¼šè¯„ä¼°ä½œè€…å¯ä¿¡åº¦
- ğŸ† çƒ­é—¨æ™¯ç‚¹æ’åï¼šåŸºäºæåŠé¢‘ç‡
- â­ è¯„åˆ†èšåˆï¼šç»¼åˆå¤šç¯‡æ”»ç•¥

## æŠ€æœ¯æ ˆ

- **AI æ¨¡å‹**: Google Gemini 2.0 Flash (å…è´¹)
- **æµè§ˆå™¨è‡ªåŠ¨åŒ–**: browser-use + Playwright
- **Web æ¡†æ¶**: FastAPI
- **æ•°æ®åº“**: PostgreSQL + SQLAlchemy
- **ç¼“å­˜**: Redis
- **ä»»åŠ¡é˜Ÿåˆ—**: Celery (è®¡åˆ’ä¸­)
- **CLI**: Click
- **åŒ…ç®¡ç†**: uv

## å¼€å‘æŒ‡å—

è¯¦ç»†å¼€å‘æ–‡æ¡£è¯·å‚è€ƒï¼š

- [å¼€å‘ç¯å¢ƒè®¾ç½®](docs/development/SETUP.md)
- [API è®¾è®¡æ–‡æ¡£](docs/api/API_DESIGN.md)
- [æ•°æ®åº“è®¾è®¡](docs/database/DATABASE_DESIGN.md) (è®¡åˆ’ä¸­)
- [è´¡çŒ®æŒ‡å—](docs/contributing/CONTRIBUTING.md) (è®¡åˆ’ä¸­)

### è¿è¡Œæµ‹è¯•

```bash
pytest tests/ -v --cov=src
```

### ä»£ç æ ¼å¼åŒ–

```bash
# æ ¼å¼åŒ–ä»£ç 
black src/ apps/ tests/

# æ’åºå¯¼å…¥
isort src/ apps/ tests/

# ä»£ç æ£€æŸ¥
flake8 src/ apps/
mypy src/ apps/
```

## ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: æ—…è¡Œè§„åˆ’

å¿«é€Ÿç”Ÿæˆç›®çš„åœ°æ—…è¡Œè®¡åˆ’ï¼š

```bash
uv run super-browser plan "æˆéƒ½" --days 3 --output chengdu_plan.json
```

### åœºæ™¯ 2: æ”»ç•¥ç ”ç©¶

æ”¶é›†å¹¶åˆ†ææ—…æ¸¸æ”»ç•¥ï¼š

```bash
uv run super-browser collect "æˆéƒ½" --max-posts 20
uv run super-browser summary "æˆéƒ½"
```

### åœºæ™¯ 3: API é›†æˆ

é›†æˆåˆ°æ‚¨çš„åº”ç”¨ä¸­ï¼š

```python
from src.core.services.guide_collector import GuideCollectorService

service = GuideCollectorService()
guides = await service.collect_guides("æˆéƒ½", max_posts=10)
```

## é…ç½®è¯´æ˜

ä¸»è¦é…ç½®é¡¹ (`.env`):

```env
# AI é…ç½®
GEMINI_API_KEY=your_key_here
GEMINI_MODEL=gemini-2.0-flash-exp

# æ•°æ®åº“é…ç½® (å¯é€‰)
DATABASE_URL=postgresql://user:pass@localhost:5432/super_browser_user

# Redis é…ç½® (å¯é€‰)
REDIS_URL=redis://localhost:6379/0

# åº”ç”¨é…ç½®
DEBUG=true
LOG_LEVEL=INFO
```

å®Œæ•´é…ç½®è¯´æ˜è¯·å‚è€ƒï¼š[.env.example](.env.example)

## è·¯çº¿å›¾

- [x] åŸºç¡€æ”»ç•¥æ”¶é›†åŠŸèƒ½
- [x] AI è¡Œç¨‹ç”Ÿæˆ
- [x] REST API
- [x] CLI å·¥å…·
- [ ] Web UI
- [ ] ç”¨æˆ·è´¦å·ç³»ç»Ÿ
- [ ] æºç¨‹ API é›†æˆ (å®æ—¶ä»·æ ¼æŸ¥è¯¢)
- [ ] é«˜å¾·åœ°å›¾ API é›†æˆ (è·¯çº¿è§„åˆ’)
- [ ] è´¦å·æˆé•¿åˆ†æåŠŸèƒ½
- [ ] å¯¼å‡ºä¸º PDF/Word
- [ ] å¤šè¯­è¨€æ”¯æŒ

## å¸¸è§é—®é¢˜

**Q: Gemini API å…è´¹å—ï¼Ÿ**

A: æ˜¯çš„ï¼ŒGemini Flash æä¾›å…è´¹é¢åº¦ï¼ˆæ¯åˆ†é’Ÿ 15 æ¬¡è¯·æ±‚ï¼Œæ¯å¤© 1500 æ¬¡ï¼‰ï¼Œè¶³å¤Ÿä¸ªäººä½¿ç”¨ã€‚

**Q: å¯ä»¥ä¸ä½¿ç”¨æ•°æ®åº“å—ï¼Ÿ**

A: å¯ä»¥ï¼Œé¡¹ç›®æ”¯æŒå†…å­˜æ¨¡å¼ï¼Œä¸é…ç½® `DATABASE_URL` å³å¯ä½¿ç”¨å†…å­˜å­˜å‚¨ã€‚

**Q: æ”¶é›†é€Ÿåº¦æ…¢æ€ä¹ˆåŠï¼Ÿ**

A: å¯ç”¨å¹¶å‘æ¨¡å¼ï¼š`--concurrent` å‚æ•°ï¼Œå¯æå‡ 2-3 å€é€Ÿåº¦ã€‚

**Q: é‡åˆ°åçˆ¬è™«æ€ä¹ˆåŠï¼Ÿ**

A: ä½¿ç”¨ Browser Use Cloud æœåŠ¡ï¼Œé…ç½® `BROWSER_USE_API_KEY` å³å¯ç»•è¿‡å¤§éƒ¨åˆ†åçˆ¬è™«ã€‚

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## è‡´è°¢

- [browser-use](https://github.com/browser-use/browser-use) - å¼ºå¤§çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–æ¡†æ¶
- [Google Gemini](https://ai.google.dev/) - å…è´¹çš„å¤šæ¨¡æ€ AI æ¨¡å‹
- [FastAPI](https://fastapi.tiangolo.com/) - ç°ä»£åŒ–çš„ Python Web æ¡†æ¶
- [Playwright](https://playwright.dev/) - å¯é çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·

## è”ç³»æ–¹å¼

- ä½œè€…: Shiyuan Chen
- Email: your.email@example.com
- é¡¹ç›®é“¾æ¥: https://github.com/yourusername/super-browser-user

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼
